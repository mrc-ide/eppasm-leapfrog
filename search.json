[{"path":"https://mrc-ide.github.io/eppasm-leapfrog/articles/eppasm-leapfrog.html","id":"simulate-with-direct-incidence-input","dir":"Articles","previous_headings":"","what":"Simulate with direct incidence input","title":"Example of using EPPASM with leapfrog model engine","text":"","code":"fp <- eppasm::prepare_directincid(pjnz) mod <- eppasm::simmod(fp, VERSION = \"leapfrog\")"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/articles/eppasm-leapfrog.html","id":"simulate-with-transmission-input","dir":"Articles","previous_headings":"","what":"Simulate with transmission input","title":"Example of using EPPASM with leapfrog model engine","text":"","code":"theta_rhybrid <- c(-0.407503322169364, -2.76794181367538, -1.26018073624346, 1995.96447776502,                    -0.00307437171215574, 0.0114118307148102, 0.00760958379603691, 0.02,                    2.24103194827232, -0.0792123921862689, -5.01917961803606, 0.359444135205712,                    -6.10051517060137)  inputs <- eppasm::prepare_spec_fit(pjnz, 2018.5)  prep <- eppasm::prep_fp_fitmod(inputs[[\"Maputo Cidade\"]], eppmod = \"rhybrid\") fp <- stats::update(prep$fp, list=eppasm::fnCreateParam(theta_rhybrid, prep$fp))  mod <- eppasm::simmod(fp, VERSION = \"leapfrog\")"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/articles/eppasm-leapfrog.html","id":"fit-model","dir":"Articles","previous_headings":"","what":"Fit model","title":"Example of using EPPASM with leapfrog model engine","text":"","code":"eppasm::fitmod(   inputs[[\"Maputo Cidade\"]],   eppmod = \"rhybrid\",   rw_start = 2005,   B0=1e3,   B=1e2,   opt_iter = 1,   number_k=50 )"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jeff Eaton. Author, maintainer.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Eaton J (2025). eppasm: Age-structured EPP Model HIV Epidemic Estimates. R package version 0.8.6, https://mrc-ide.github.io/eppasm-leapfrog/.","code":"@Manual{,   title = {eppasm: Age-structured EPP Model for HIV Epidemic Estimates},   author = {Jeff Eaton},   year = {2025},   note = {R package version 0.8.6},   url = {https://mrc-ide.github.io/eppasm-leapfrog/}, }"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/index.html","id":"eppasm","dir":"","previous_headings":"","what":"Age-structured EPP Model for HIV Epidemic Estimates","title":"Age-structured EPP Model for HIV Epidemic Estimates","text":"goal eppasm … Forked eppasm using leapfrog underlying model.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Age-structured EPP Model for HIV Epidemic Estimates","text":"Install GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"mrc-ide/eppasm-leapfrog\")"},{"path":[]},{"path":[]},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/index.html","id":"botswana2018pjnz","dir":"","previous_headings":"Test files","what":"Botswana2018.PJNZ","title":"Age-structured EPP Model for HIV Epidemic Estimates","text":"Urban/Rural epidemic configuration ANC-RT census data, site-level ANC-RT data","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/index.html","id":"mozambique_maputo_cidadepjnz","dir":"","previous_headings":"Test files","what":"Mozambique_Maputo_Cidade.PJNZ","title":"Age-structured EPP Model for HIV Epidemic Estimates","text":"Subnational, single EPP region configuration Uses median CD4 count input","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agemx.spec.html","id":null,"dir":"Reference","previous_headings":"","what":"Age-specific mortality — agemx.spec","title":"Age-specific mortality — agemx.spec","text":"Calculate -cause mortality rate single year age sex spec object.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agemx.spec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Age-specific mortality — agemx.spec","text":"","code":"# S3 method for class 'spec' agemx(mod, nonhiv = FALSE)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agemx.spec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Age-specific mortality — agemx.spec","text":"mod output simmod class spec.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agemx.spec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Age-specific mortality — agemx.spec","text":"3-dimensional array mortality age, sex, year.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agemx.spec.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Age-specific mortality — agemx.spec","text":"Mortality year Y calculated number deaths occurring mid-year year Y-1 mid-year Y, divided population size mid-year year Y-1. !!! NOTE: might different calculation Spectrum. confirm John Stover.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agepregartcov.html","id":null,"dir":"Reference","previous_headings":"","what":"Age-specific ART coverage among pregnant women — agepregartcov","title":"Age-specific ART coverage among pregnant women — agepregartcov","text":"Age-specific ART coverage among pregnant women","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agepregartcov.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Age-specific ART coverage among pregnant women — agepregartcov","text":"","code":"agepregartcov(   mod,   fp,   aidx = 3:9 * 5 - fp$ss$AGE_START + 1L,   yidx = 1:fp$ss$PROJ_YEARS,   agspan = 5,   expand = FALSE )"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agepregartcov.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Age-specific ART coverage among pregnant women — agepregartcov","text":"expand whether expand aidx, yidx, sidx, agspan","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agepregprev.html","id":null,"dir":"Reference","previous_headings":"","what":"Age-specific prevalence among pregnant women — agepregprev","title":"Age-specific prevalence among pregnant women — agepregprev","text":"Age-specific prevalence among pregnant women","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agepregprev.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Age-specific prevalence among pregnant women — agepregprev","text":"","code":"agepregprev(   mod,   fp,   aidx = 3:9 * 5 - fp$ss$AGE_START + 1L,   yidx = 1:fp$ss$PROJ_YEARS,   agspan = 5,   expand = FALSE )"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/agepregprev.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Age-specific prevalence among pregnant women — agepregprev","text":"expand whether expand aidx, yidx, sidx, agspan","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ageprev.html","id":null,"dir":"Reference","previous_headings":"","what":"Prevalence by arbitrary age groups — ageprev","title":"Prevalence by arbitrary age groups — ageprev","text":"Prevalence arbitrary age groups","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ageprev.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prevalence by arbitrary age groups — ageprev","text":"","code":"ageprev(   mod,   aidx = NULL,   sidx = NULL,   yidx = NULL,   agspan = 5,   expand = FALSE,   VERSION = \"C\" )"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ageprev.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prevalence by arbitrary age groups — ageprev","text":"sidx sex (1 = Male, 2 = Female, 0 = ) Notes: Assumes AGE_START 15 single year age.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ancsite_pred_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare design matrix indices for ANC prevalence predictions — ancsite_pred_df","title":"Prepare design matrix indices for ANC prevalence predictions — ancsite_pred_df","text":"Prepare design matrix indices ANC prevalence predictions","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ancsite_pred_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare design matrix indices for ANC prevalence predictions — ancsite_pred_df","text":"","code":"ancsite_pred_df(ancsite_df, fp)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ancsite_pred_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare design matrix indices for ANC prevalence predictions — ancsite_pred_df","text":"ancsite_df data.frame site-level ANC design predictions fp fixed parameter input list","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ancsite_pred_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare design matrix indices for ANC prevalence predictions — ancsite_pred_df","text":"","code":"pjnz <- system.file(\"extdata/testpjnz\", \"Botswana2017.PJNZ\", package=\"eppasm\") bw <- prepare_spec_fit(pjnz, proj.end=2021.5)   bw_u_ancsite <- attr(bw$Urban, \"eppd\")$ancsitedat fp <- attr(bw$Urban, \"specfp\")  ancsite_pred_df(bw_u_ancsite, fp) #> $df #>     agspan aidx yidx               site year used  prev    n  type agegr age #> 1       35    1   22    Francistown (%) 1991 TRUE 0.160  128 ancss 15-49  15 #> 2       35    1   22       Gaborone (%) 1991 TRUE 0.170   58 ancss 15-49  15 #> 3       35    1   23       Gaborone (%) 1992 TRUE 0.149  841 ancss 15-49  15 #> 4       35    1   23    Francistown (%) 1992 TRUE 0.237  796 ancss 15-49  15 #> 5       35    1   24       Gaborone (%) 1993 TRUE 0.192  881 ancss 15-49  15 #> 6       35    1   24        Lobatse (%) 1993 TRUE 0.178  258 ancss 15-49  15 #> 7       35    1   24    Francistown (%) 1993 TRUE 0.342  803 ancss 15-49  15 #> 8       35    1   24 Serowe Palapye (%) 1993 TRUE 0.199  267 ancss 15-49  15 #> 9       35    1   25       Gaborone (%) 1994 TRUE 0.278 1205 ancss 15-49  15 #> 10      35    1   25       Southern (%) 1994 TRUE 0.160  508 ancss 15-49  15 #> 11      35    1   25    Francistown (%) 1994 TRUE 0.297  799 ancss 15-49  15 #> 12      35    1   25   Selebi-Pikwe (%) 1994 TRUE 0.270  307 ancss 15-49  15 #> 13      35    1   26        Lobatse (%) 1995 TRUE 0.389  231 ancss 15-49  15 #> 14      35    1   26    Francistown (%) 1995 TRUE 0.396  626 ancss 15-49  15 #> 15      35    1   26 Serowe Palapye (%) 1995 TRUE 0.299  262 ancss 15-49  15 #> 16      35    1   26       Gaborone (%) 1995 TRUE 0.287 1307 ancss 15-49  15 #> 17      35    1   27       Gaborone (%) 1996 TRUE 0.313 1232 ancss 15-49  15 #> 18      35    1   27   Kweneng East (%) 1996 TRUE 0.239  213 ancss 15-49  15 #> 19      35    1   27       Southern (%) 1996 TRUE 0.217  589 ancss 15-49  15 #> 20      35    1   27    Francistown (%) 1996 TRUE 0.431  751 ancss 15-49  15 #> 21      35    1   27   Selebi-Pikwe (%) 1996 TRUE 0.378  331 ancss 15-49  15 #> 22      35    1   28       Gaborone (%) 1997 TRUE 0.340  786 ancss 15-49  15 #> 23      35    1   28      Mahalapye (%) 1997 TRUE 0.282  393 ancss 15-49  15 #> 24      35    1   28        Lobatse (%) 1997 TRUE 0.337  266 ancss 15-49  15 #> 25      35    1   28    Francistown (%) 1997 TRUE 0.429  802 ancss 15-49  15 #> 26      35    1   28 Serowe Palapye (%) 1997 TRUE 0.344  289 ancss 15-49  15 #> 27      35    1   29   Kweneng East (%) 1998 TRUE 0.372  534 ancss 15-49  15 #> 28      35    1   29       Southern (%) 1998 TRUE 0.247  300 ancss 15-49  15 #> 29      35    1   29   Selebi-Pikwe (%) 1998 TRUE 0.499  471 ancss 15-49  15 #> 30      35    1   29    Francistown (%) 1998 TRUE 0.430  796 ancss 15-49  15 #> 31      35    1   29       Gaborone (%) 1998 TRUE 0.391 1251 ancss 15-49  15 #> 32      35    1   30       Gaborone (%) 1999 TRUE 0.371  480 ancss 15-49  15 #> 33      35    1   30        Lobatse (%) 1999 TRUE 0.313  252 ancss 15-49  15 #> 34      35    1   30    Francistown (%) 1999 TRUE 0.427  576 ancss 15-49  15 #> 35      35    1   30 Serowe Palapye (%) 1999 TRUE 0.418  268 ancss 15-49  15 #> 36      35    1   30      Mahalapye (%) 1999 TRUE 0.320  362 ancss 15-49  15 #> 37      35    1   31   Kweneng East (%) 2000 TRUE 0.304  349 ancss 15-49  15 #> 38      35    1   31   Selebi-Pikwe (%) 2000 TRUE 0.503  304 ancss 15-49  15 #> 39      35    1   31       Southern (%) 2000 TRUE 0.407  513 ancss 15-49  15 #> 40      35    1   31       Gaborone (%) 2000 TRUE 0.362  734 ancss 15-49  15 #> 41      35    1   31    Francistown (%) 2000 TRUE 0.444  702 ancss 15-49  15 #> 42      35    1   32 Serowe Palapye (%) 2001 TRUE 0.446  341 ancss 15-49  15 #> 43      35    1   32       Southern (%) 2001 TRUE 0.340  347 ancss 15-49  15 #> 44      35    1   32   Kweneng East (%) 2001 TRUE 0.296  540 ancss 15-49  15 #> 45      35    1   32     South East (%) 2001 TRUE 0.321  192 ancss 15-49  15 #> 46      35    1   32    Francistown (%) 2001 TRUE 0.496  494 ancss 15-49  15 #> 47      35    1   32        Lobatse (%) 2001 TRUE 0.306  232 ancss 15-49  15 #> 48      35    1   32   Selebi-Pikwe (%) 2001 TRUE 0.500  351 ancss 15-49  15 #> 49      35    1   32       Gaborone (%) 2001 TRUE 0.386  576 ancss 15-49  15 #> 50      35    1   32      Mahalapye (%) 2001 TRUE 0.319  336 ancss 15-49  15 #> 51      35    1   33       Southern (%) 2002 TRUE 0.331  363 ancss 15-49  15 #> 52      35    1   33   Kweneng East (%) 2002 TRUE 0.292  567 ancss 15-49  15 #> 53      35    1   33     South East (%) 2002 TRUE 0.265  288 ancss 15-49  15 #> 54      35    1   33   Selebi-Pikwe (%) 2002 TRUE 0.481  372 ancss 15-49  15 #> 55      35    1   33    Francistown (%) 2002 TRUE 0.402  458 ancss 15-49  15 #> 56      35    1   33       Gaborone (%) 2002 TRUE 0.382  666 ancss 15-49  15 #> 57      35    1   33        Lobatse (%) 2002 TRUE 0.346  241 ancss 15-49  15 #> 58      35    1   33 Serowe Palapye (%) 2002 TRUE 0.367  425 ancss 15-49  15 #> 59      35    1   33      Mahalapye (%) 2002 TRUE 0.398  303 ancss 15-49  15 #> 60      35    1   34   Selebi-Pikwe (%) 2003 TRUE 0.522  302 ancss 15-49  15 #> 61      35    1   34       Gaborone (%) 2003 TRUE 0.448  555 ancss 15-49  15 #> 62      35    1   34       Southern (%) 2003 TRUE 0.257  359 ancss 15-49  15 #> 63      35    1   34    Francistown (%) 2003 TRUE 0.458  593 ancss 15-49  15 #> 64      35    1   34 Serowe Palapye (%) 2003 TRUE 0.433  389 ancss 15-49  15 #> 65      35    1   34        Lobatse (%) 2003 TRUE 0.324  246 ancss 15-49  15 #> 66      35    1   34      Mahalapye (%) 2003 TRUE 0.374  326 ancss 15-49  15 #> 67      35    1   34     South East (%) 2003 TRUE 0.279  306 ancss 15-49  15 #> 68      35    1   34   Kweneng East (%) 2003 TRUE 0.321  522 ancss 15-49  15 #> 69      35    1   36      Mahalapye (%) 2005 TRUE 0.362  379 ancss 15-49  15 #> 70      35    1   36        Jwaneng (%) 2005 TRUE 0.349  146 ancss 15-49  15 #> 71      35    1   36   Kweneng East (%) 2005 TRUE 0.315  551 ancss 15-49  15 #> 72      35    1   36       Gaborone (%) 2005 TRUE 0.344  722 ancss 15-49  15 #> 73      35    1   36       Southern (%) 2005 TRUE 0.282  313 ancss 15-49  15 #> 74      35    1   36     South East (%) 2005 TRUE 0.321  368 ancss 15-49  15 #> 75      35    1   36        Lobatse (%) 2005 TRUE 0.290  243 ancss 15-49  15 #> 76      35    1   36    Francistown (%) 2005 TRUE 0.423  659 ancss 15-49  15 #> 77      35    1   36 Serowe Palapye (%) 2005 TRUE 0.375  534 ancss 15-49  15 #> 78      35    1   36   Selebi-Pikwe (%) 2005 TRUE 0.465  300 ancss 15-49  15 #> 79      35    1   37     South East (%) 2006 TRUE 0.276  385 ancss 15-49  15 #> 80      35    1   37   Kweneng East (%) 2006 TRUE 0.317  518 ancss 15-49  15 #> 81      35    1   37      Mahalapye (%) 2006 TRUE 0.299  322 ancss 15-49  15 #> 82      35    1   37        Jwaneng (%) 2006 TRUE 0.200  143 ancss 15-49  15 #> 83      35    1   37   Selebi-Pikwe (%) 2006 TRUE 0.411  324 ancss 15-49  15 #> 84      35    1   37       Southern (%) 2006 TRUE 0.250  324 ancss 15-49  15 #> 85      35    1   37        Lobatse (%) 2006 TRUE 0.284  249 ancss 15-49  15 #> 86      35    1   37       Gaborone (%) 2006 TRUE 0.353  607 ancss 15-49  15 #> 87      35    1   37 Serowe Palapye (%) 2006 TRUE 0.368  598 ancss 15-49  15 #> 88      35    1   37    Francistown (%) 2006 TRUE 0.367  560 ancss 15-49  15 #> 89      35    1   38   Selebi-Pikwe (%) 2007 TRUE 0.490  310 ancss 15-49  15 #> 90      35    1   38     South East (%) 2007 TRUE 0.267  441 ancss 15-49  15 #> 91      35    1   38        Jwaneng (%) 2007 TRUE 0.214  141 ancss 15-49  15 #> 92      35    1   38 Serowe Palapye (%) 2007 TRUE 0.373  667 ancss 15-49  15 #> 93      35    1   38       Southern (%) 2007 TRUE 0.228  319 ancss 15-49  15 #> 94      35    1   38   Kweneng East (%) 2007 TRUE 0.335  487 ancss 15-49  15 #> 95      35    1   38      Mahalapye (%) 2007 TRUE 0.304  403 ancss 15-49  15 #> 96      35    1   38       Gaborone (%) 2007 TRUE 0.332  692 ancss 15-49  15 #> 97      35    1   38        Lobatse (%) 2007 TRUE 0.287  242 ancss 15-49  15 #> 98      35    1   38    Francistown (%) 2007 TRUE 0.379  702 ancss 15-49  15 #> 99      35    1   40        Jwaneng (%) 2009 TRUE 0.311  300 ancss 15-49  15 #> 100     35    1   40   Kweneng East (%) 2009 TRUE 0.279  486 ancss 15-49  15 #> 101     35    1   40 Serowe Palapye (%) 2009 TRUE 0.336  405 ancss 15-49  15 #> 102     35    1   40   Selebi-Pikwe (%) 2009 TRUE 0.391  263 ancss 15-49  15 #> 103     35    1   40        Lobatse (%) 2009 TRUE 0.324  274 ancss 15-49  15 #> 104     35    1   40     South East (%) 2009 TRUE 0.288  421 ancss 15-49  15 #> 105     35    1   40    Francistown (%) 2009 TRUE 0.381  527 ancss 15-49  15 #> 106     35    1   40       Gaborone (%) 2009 TRUE 0.290  678 ancss 15-49  15 #> 107     35    1   40       Southern (%) 2009 TRUE 0.283  316 ancss 15-49  15 #> 108     35    1   40      Mahalapye (%) 2009 TRUE 0.378  409 ancss 15-49  15 #> 109     35    1   42     South East (%) 2011 TRUE 0.158  242 ancss 15-49  15 #> 110     35    1   42    Francistown (%) 2011 TRUE 0.370  547 ancss 15-49  15 #> 111     35    1   42        Jwaneng (%) 2011 TRUE 0.167  300 ancss 15-49  15 #> 112     35    1   42   Selebi-Pikwe (%) 2011 TRUE 0.412  282 ancss 15-49  15 #> 113     35    1   42   Kweneng East (%) 2011 TRUE 0.266  262 ancss 15-49  15 #> 114     35    1   42      Mahalapye (%) 2011 TRUE 0.335  463 ancss 15-49  15 #> 115     35    1   42 Serowe Palapye (%) 2011 TRUE 0.379  458 ancss 15-49  15 #> 116     35    1   42       Gaborone (%) 2011 TRUE 0.292  572 ancss 15-49  15 #> 117     35    1   42        Lobatse (%) 2011 TRUE 0.244  169 ancss 15-49  15 #> 118     35    1   42       Southern (%) 2011 TRUE 0.224  302 ancss 15-49  15 #>     qMidx #> 1       1 #> 2       1 #> 3       2 #> 4       2 #> 5       3 #> 6       3 #> 7       3 #> 8       3 #> 9       4 #> 10      4 #> 11      4 #> 12      4 #> 13      5 #> 14      5 #> 15      5 #> 16      5 #> 17      6 #> 18      6 #> 19      6 #> 20      6 #> 21      6 #> 22      7 #> 23      7 #> 24      7 #> 25      7 #> 26      7 #> 27      8 #> 28      8 #> 29      8 #> 30      8 #> 31      8 #> 32      9 #> 33      9 #> 34      9 #> 35      9 #> 36      9 #> 37     10 #> 38     10 #> 39     10 #> 40     10 #> 41     10 #> 42     11 #> 43     11 #> 44     11 #> 45     11 #> 46     11 #> 47     11 #> 48     11 #> 49     11 #> 50     11 #> 51     12 #> 52     12 #> 53     12 #> 54     12 #> 55     12 #> 56     12 #> 57     12 #> 58     12 #> 59     12 #> 60     13 #> 61     13 #> 62     13 #> 63     13 #> 64     13 #> 65     13 #> 66     13 #> 67     13 #> 68     13 #> 69     14 #> 70     14 #> 71     14 #> 72     14 #> 73     14 #> 74     14 #> 75     14 #> 76     14 #> 77     14 #> 78     14 #> 79     15 #> 80     15 #> 81     15 #> 82     15 #> 83     15 #> 84     15 #> 85     15 #> 86     15 #> 87     15 #> 88     15 #> 89     16 #> 90     16 #> 91     16 #> 92     16 #> 93     16 #> 94     16 #> 95     16 #> 96     16 #> 97     16 #> 98     16 #> 99     17 #> 100    17 #> 101    17 #> 102    17 #> 103    17 #> 104    17 #> 105    17 #> 106    17 #> 107    17 #> 108    17 #> 109    18 #> 110    18 #> 111    18 #> 112    18 #> 113    18 #> 114    18 #> 115    18 #> 116    18 #> 117    18 #> 118    18 #>  #> $datgrp #>    aidx yidx agspan qMidx #> 1     1   22     35     1 #> 2     1   23     35     2 #> 3     1   24     35     3 #> 4     1   25     35     4 #> 5     1   26     35     5 #> 6     1   27     35     6 #> 7     1   28     35     7 #> 8     1   29     35     8 #> 9     1   30     35     9 #> 10    1   31     35    10 #> 11    1   32     35    11 #> 12    1   33     35    12 #> 13    1   34     35    13 #> 14    1   36     35    14 #> 15    1   37     35    15 #> 16    1   38     35    16 #> 17    1   40     35    17 #> 18    1   42     35    18 #>"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/calc_infections_eppspectrum.html","id":null,"dir":"Reference","previous_headings":"","what":"Annualized number of new infections — calc_infections_eppspectrum","title":"Annualized number of new infections — calc_infections_eppspectrum","text":"Annualized number new infections","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/calc_infections_eppspectrum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Annualized number of new infections — calc_infections_eppspectrum","text":"","code":"calc_infections_eppspectrum(fp, pop, hivpop, artpop, i, ii, r_ts)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/create_aggr_outputs.html","id":null,"dir":"Reference","previous_headings":"","what":"Crate aggr outputs — create_aggr_outputs","title":"Crate aggr outputs — create_aggr_outputs","text":"Crate aggr outputs","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/create_aggr_outputs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Crate aggr outputs — create_aggr_outputs","text":"","code":"create_aggr_outputs(fitlist, fitnat, both = TRUE)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/create_aggr_outputs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Crate aggr outputs — create_aggr_outputs","text":"fitlist list model fits aggregate. fitnat single fit use base fit aggregation. flag indicating whether return outputs aggregated fit individual fits (default TRUE).","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/create_spectrum_fixpar.html","id":null,"dir":"Reference","previous_headings":"","what":"Create simulation inputs fixed parameters — create_spectrum_fixpar","title":"Create simulation inputs fixed parameters — create_spectrum_fixpar","text":"Create simulation inputs fixed parameters","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/create_spectrum_fixpar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create simulation inputs fixed parameters — create_spectrum_fixpar","text":"","code":"create_spectrum_fixpar(   projp,   demp,   hiv_steps_per_year = 10L,   proj_start = projp$yr_start,   proj_end = projp$yr_end,   AGE_START = 15L,   relinfectART = projp$relinfectART,   time_epi_start = projp$t0,   popadjust = FALSE,   targetpop = demp$basepop,   artelig200adj = TRUE,   who34percelig = 0,   frr_art6mos = projp$frr_art6mos,   frr_art1yr = projp$frr_art6mos,   projection_period = NULL,   art_dropout_recover_cd4 = NULL )"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/create_spectrum_fixpar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create simulation inputs fixed parameters — create_spectrum_fixpar","text":"argument `projection_period = NULL`, R determines projection period based Spectrum version number. version <= 6.19, projection period `\"midyear\"`, version >= 6.20, projection period `\"calendar\"`.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/get_proj_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get vector of years spanned by projections — get_proj_years","title":"Get vector of years spanned by projections — get_proj_years","text":"Get vector years spanned projections","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/get_proj_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get vector of years spanned by projections — get_proj_years","text":"","code":"get_proj_years(ss)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/hivpop_singleage.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert aggregate HIV population to single year — hivpop_singleage","title":"Convert aggregate HIV population to single year — hivpop_singleage","text":"EPP-ASM tracks CD4 distribution ART duration HIV population coarse age groups `15-16, 17-19, 20-24, ..., 45-49, 50+` computational efficiency.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/hivpop_singleage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert aggregate HIV population to single year — hivpop_singleage","text":"","code":"hivpop_singleage(mod, ss)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/hivpop_singleage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert aggregate HIV population to single year — hivpop_singleage","text":"mod EPP-ASM model output class `spec` ss Model state space inputs","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/hivpop_singleage.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert aggregate HIV population to single year — hivpop_singleage","text":"`hivpop_singleage` converts coarse age group CD4 distribution ART coverage single year age counts assuming uniform proportions category within coarse age groups.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/hivpop_singleage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert aggregate HIV population to single year — hivpop_singleage","text":"","code":"pjnz <- system.file(\"extdata/testpjnz\", \"Botswana2018.PJNZ\", package=\"eppasm\") fp <- prepare_directincid(pjnz) mod <- simmod(fp) hivp1 <- hivpop_singleage(mod, fp$ss)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/imis.html","id":null,"dir":"Reference","previous_headings":"","what":"Incremental Mixture Importance Sampling (IMIS) — imis","title":"Incremental Mixture Importance Sampling (IMIS) — imis","text":"Implements IMIS algorithm optional optimization step (Raftery Bao 2010).","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/imis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Incremental Mixture Importance Sampling (IMIS) — imis","text":"","code":"imis(   B0,   B,   B_re,   number_k,   opt_k = NULL,   fp,   likdat,   prior = eppasm:::prior,   likelihood = eppasm:::likelihood,   sample_prior = eppasm:::sample.prior,   dsamp = eppasm:::dsamp,   save_all = FALSE )"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/imis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Incremental Mixture Importance Sampling (IMIS) — imis","text":"B0 number initial samples draw B number samples IMIS iteration B_re number resamples number_k maximum number iterations opt_k vector iterations use optimization step identify new mixture component fp fixed model parameters likdat likeihood data prior function calculate prior density matrix parameter inputs likelihood function calculate likelihood matrix parameter inputs sample_prior function draw initial sample parameter inputs dsamp function calculate density initial sampling distribution (may equal prior) save_all logical whether save sampled parameters","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/imis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Incremental Mixture Importance Sampling (IMIS) — imis","text":"list items resample, stat, center","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/incid.html","id":null,"dir":"Reference","previous_headings":"","what":"Incidence rate among adults age 15-49 years — incid","title":"Incidence rate among adults age 15-49 years — incid","text":"Incidence rate among adults age 15-49 years","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/incid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Incidence rate among adults age 15-49 years — incid","text":"","code":"incid(mod, ...)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/incid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Incidence rate among adults age 15-49 years — incid","text":"mod model output","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/incid.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Incidence rate among adults age 15-49 years — incid","text":"returns incidence rate calculated number infections projection period divded number susceptible mid-point projection period. default incidence calculation Spectrum version >=6.2 Spectrum versions <=6.19 incidence calculated number infections divided susceptible population start projection year.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/incid15to49_eppinput_specres.html","id":null,"dir":"Reference","previous_headings":"","what":"Incidence rate age 15-49 using previous-year susceptible population — incid15to49_eppinput_specres","title":"Incidence rate age 15-49 using previous-year susceptible population — incid15to49_eppinput_specres","text":"Return HIV incidence calculated number infections among age 15-49 population divided susceptible population start projection year. standard HIV incidence calculation reported Spectrum version <=6.19. Spectrum version >=6.2, incidence rate reported divided projection period population.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/incid15to49_eppinput_specres.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Incidence rate age 15-49 using previous-year susceptible population — incid15to49_eppinput_specres","text":"","code":"incid15to49_eppinput_specres(x)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/incid15to49_eppinput_specres.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Incidence rate age 15-49 using previous-year susceptible population — incid15to49_eppinput_specres","text":"x `specres` object created `read_hivproj_output()`.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_ancsite_conditional.html","id":null,"dir":"Reference","previous_headings":"","what":"Pointwise likelihood for site-level ANC observations given site-level effects — ll_ancsite_conditional","title":"Pointwise likelihood for site-level ANC observations given site-level effects — ll_ancsite_conditional","text":"Pointwise likelihood site-level ANC observations given site-level effects","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_ancsite_conditional.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pointwise likelihood for site-level ANC observations given site-level effects — ll_ancsite_conditional","text":"","code":"ll_ancsite_conditional(mod, fp, newdata, b_site)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_hhsage.html","id":null,"dir":"Reference","previous_headings":"","what":"Log likelihood for age-specific household survey prevalence — ll_hhsage","title":"Log likelihood for age-specific household survey prevalence — ll_hhsage","text":"Log likelihood age-specific household survey prevalence","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_hhsage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Log likelihood for age-specific household survey prevalence — ll_hhsage","text":"","code":"ll_hhsage(mod, fp, dat, pointwise = FALSE)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_hhsage_binom.html","id":null,"dir":"Reference","previous_headings":"","what":"Log likelihood for age-specific household survey prevalence using binomial approximation — ll_hhsage_binom","title":"Log likelihood for age-specific household survey prevalence using binomial approximation — ll_hhsage_binom","text":"Log likelihood age-specific household survey prevalence using binomial approximation","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_hhsage_binom.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Log likelihood for age-specific household survey prevalence using binomial approximation — ll_hhsage_binom","text":"","code":"ll_hhsage_binom(mod, fp, dat, pointwise = FALSE)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_hhsartcov.html","id":null,"dir":"Reference","previous_headings":"","what":"Log likelihood for age-specific household survey prevalence — ll_hhsartcov","title":"Log likelihood for age-specific household survey prevalence — ll_hhsartcov","text":"Log likelihood age-specific household survey prevalence","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_hhsartcov.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Log likelihood for age-specific household survey prevalence — ll_hhsartcov","text":"","code":"ll_hhsartcov(mod, fp, dat, pointwise = FALSE)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_hhsincid.html","id":null,"dir":"Reference","previous_headings":"","what":"Log-likelhood for direct incidence estimate from household survey — ll_hhsincid","title":"Log-likelhood for direct incidence estimate from household survey — ll_hhsincid","text":"Calculate log-likelihood nationally representative incidence estimates household survey. Currently implements likelihood log-transformed direct incidence estimate standard error. Needs updated handle incidence assay outputs.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_hhsincid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Log-likelhood for direct incidence estimate from household survey — ll_hhsincid","text":"","code":"ll_hhsincid(mod, fp, hhsincid.dat)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/ll_hhsincid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Log-likelhood for direct incidence estimate from household survey — ll_hhsincid","text":"mod model output, object class `spec`. hhsincid.dat prepared houshold survey incidence estimates (see perp","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/melt_ancsite_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Melt ANC-SS and site-level ANC-RT to long dataset — melt_ancsite_data","title":"Melt ANC-SS and site-level ANC-RT to long dataset — melt_ancsite_data","text":"Melt ANC-SS site-level ANC-RT long dataset","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/melt_ancsite_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Melt ANC-SS and site-level ANC-RT to long dataset — melt_ancsite_data","text":"","code":"melt_ancsite_data(eppd)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/mod_dimnames.html","id":null,"dir":"Reference","previous_headings":"","what":"Add dimnames to spec model output — mod_dimnames","title":"Add dimnames to spec model output — mod_dimnames","text":"`mod_dimnames` assigns dimnames spec model outputs.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/mod_dimnames.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add dimnames to spec model output — mod_dimnames","text":"","code":"mod_dimnames(mod, ss)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/mod_dimnames.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add dimnames to spec model output — mod_dimnames","text":"mod EPP-ASM model output class `spec` ss Model state space inputs","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/mod_dimnames.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add dimnames to spec model output — mod_dimnames","text":"EPP-ASM model output labelled dimensions","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/mod_dimnames.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add dimnames to spec model output — mod_dimnames","text":"","code":"pjnz <- system.file(\"extdata/testpjnz\", \"Botswana2018.PJNZ\", package=\"eppasm\") fp <- prepare_directincid(pjnz) mod <- simmod(fp)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/natagemx.spec.html","id":null,"dir":"Reference","previous_headings":"","what":"Non-HIV age-specific mortality — natagemx.spec","title":"Non-HIV age-specific mortality — natagemx.spec","text":"Calculate -cause mortality rate single year age sex spec object.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/natagemx.spec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Non-HIV age-specific mortality — natagemx.spec","text":"","code":"# S3 method for class 'spec' natagemx(mod)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/natagemx.spec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Non-HIV age-specific mortality — natagemx.spec","text":"mod output simmod class spec.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/natagemx.spec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Non-HIV age-specific mortality — natagemx.spec","text":"3-dimensional array mortality age, sex, year.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/natagemx.spec.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Non-HIV age-specific mortality — natagemx.spec","text":"Mortality year Y calculated number non-HIV deaths occurring mid-year year Y-1 mid-year Y, divided population size mid-year year Y-1. !!! NOTE: might different calculation Spectrum. confirm John Stover.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prep_fp_fitmod.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare fp object for fitting and prepare likelihood data — prep_fp_fitmod","title":"Prepare fp object for fitting and prepare likelihood data — prep_fp_fitmod","text":"Prepare fp object fitting prepare likelihood data","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prep_fp_fitmod.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare fp object for fitting and prepare likelihood data — prep_fp_fitmod","text":"","code":"prep_fp_fitmod(obj, ..., epp = FALSE)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prep_fp_fitmod.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare fp object for fitting and prepare likelihood data — prep_fp_fitmod","text":"obj specfp eppfp object ... Additional parameters override `obj` epp TRUE prep EPP model fit","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prep_fp_fitmod.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare fp object for fitting and prepare likelihood data — prep_fp_fitmod","text":"List containing `fp` object ready fitting likelihood   data `likdat`","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_ancsite_likdat.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare site-level ANC prevalence data for EPP random-effects likelihood — prepare_ancsite_likdat","title":"Prepare site-level ANC prevalence data for EPP random-effects likelihood — prepare_ancsite_likdat","text":"Prepare site-level ANC prevalence data EPP random-effects likelihood","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_ancsite_likdat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare site-level ANC prevalence data for EPP random-effects likelihood — prepare_ancsite_likdat","text":"","code":"prepare_ancsite_likdat(ancsitedat, fp)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_ancsite_likdat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare site-level ANC prevalence data for EPP random-effects likelihood — prepare_ancsite_likdat","text":"ancsitedat data.frame site-level ANC data fp fixed parameter input list, including state space","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_directincid.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare direct incidence input EPP simulation — prepare_directincid","title":"Prepare direct incidence input EPP simulation — prepare_directincid","text":"Prepare direct incidence input EPP simulation","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_directincid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare direct incidence input EPP simulation — prepare_directincid","text":"","code":"prepare_directincid(pjnz, method = \"directincid_hts\")"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_directincid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare direct incidence input EPP simulation — prepare_directincid","text":"method Method intercalating new infections. Either \"directincid_ann\" annual new infections \"directincid_hts\" new infections HIV time step.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_hhsageprev_likdat.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare age-specific HH survey prevalence likelihood data — prepare_hhsageprev_likdat","title":"Prepare age-specific HH survey prevalence likelihood data — prepare_hhsageprev_likdat","text":"Prepare age-specific HH survey prevalence likelihood data","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_hhsageprev_likdat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare age-specific HH survey prevalence likelihood data — prepare_hhsageprev_likdat","text":"","code":"prepare_hhsageprev_likdat(hhsage, fp)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_hhsartcov_likdat.html","id":null,"dir":"Reference","previous_headings":"","what":"## Household survey ART coverage likelihood — prepare_hhsartcov_likdat","title":"## Household survey ART coverage likelihood — prepare_hhsartcov_likdat","text":"## Household survey ART coverage likelihood","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_hhsartcov_likdat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"## Household survey ART coverage likelihood — prepare_hhsartcov_likdat","text":"","code":"prepare_hhsartcov_likdat(hhsartcov, fp)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_hhsincid_likdat.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare household survey incidence likelihood data — prepare_hhsincid_likdat","title":"Prepare household survey incidence likelihood data — prepare_hhsincid_likdat","text":"Prepare household survey incidence likelihood data","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_hhsincid_likdat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare household survey incidence likelihood data — prepare_hhsincid_likdat","text":"","code":"prepare_hhsincid_likdat(hhsincid, fp)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_rhybrid.html","id":null,"dir":"Reference","previous_headings":"","what":"Setup the r-hybrid model — prepare_rhybrid","title":"Setup the r-hybrid model — prepare_rhybrid","text":"Setup r-hybrid model","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_rhybrid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Setup the r-hybrid model — prepare_rhybrid","text":"","code":"prepare_rhybrid(   fp,   tsEpidemicStart = fp$ss$time_epi_start + 0.5,   rw_start = fp$rw_start,   rw_trans = fp$rw_trans,   rw_dk = fp$rw_dk )"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_rhybrid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Setup the r-hybrid model — prepare_rhybrid","text":"fp model parameters object tsEpidemicStart time step epidemic seeded rw_start time random walk starts rw_trans number years transition logistic differences RW differences. NULL, defaults 5 steps","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_spec_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare fit by EPP regions — prepare_spec_fit","title":"Prepare fit by EPP regions — prepare_spec_fit","text":"Prepare fit EPP regions","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_spec_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare fit by EPP regions — prepare_spec_fit","text":"","code":"prepare_spec_fit(   pjnz,   proj.end = 2016.5,   popadjust = NULL,   popupdate = TRUE,   use_ep5 = FALSE )"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/prepare_spec_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare fit by EPP regions — prepare_spec_fit","text":"pjnz file path Spectrum PJNZ file. proj.end end year projection. popupdate logical target population updated match age-specific population size DP file %Urban EPP XML.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_csavr_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Read CSAVR input data — read_csavr_data","title":"Read CSAVR input data — read_csavr_data","text":"Read CSAVR input data","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_csavr_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read CSAVR input data — read_csavr_data","text":"","code":"read_csavr_data(pjnz)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_csavr_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read CSAVR input data — read_csavr_data","text":"pjnz file path Spectrum PJNZ file.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_dp.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Spectrum internal files file from PJNZ — read_dp","title":"Read Spectrum internal files file from PJNZ — read_dp","text":"Read Spectrum internal files file PJNZ","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_dp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Spectrum internal files file from PJNZ — read_dp","text":"","code":"read_dp(pjnz, use_ep5 = FALSE)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_dp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Spectrum internal files file from PJNZ — read_dp","text":"pjnz file path Spectrum PJNZ file.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_epp_perc_urban.html","id":null,"dir":"Reference","previous_headings":"","what":"Read percentage urban input from EPP XML file — read_epp_perc_urban","title":"Read percentage urban input from EPP XML file — read_epp_perc_urban","text":"Read percentage urban input EPP XML file","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_epp_perc_urban.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read percentage urban input from EPP XML file — read_epp_perc_urban","text":"","code":"read_epp_perc_urban(pjnz)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_epp_perc_urban.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read percentage urban input from EPP XML file — read_epp_perc_urban","text":"pjnz file path Spectrum PJNZ file.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_epp_t0.html","id":null,"dir":"Reference","previous_headings":"","what":"Read epidemic start year from EPP XML file — read_epp_t0","title":"Read epidemic start year from EPP XML file — read_epp_t0","text":"Read epidemic start year EPP XML file","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_epp_t0.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read epidemic start year from EPP XML file — read_epp_t0","text":"","code":"read_epp_t0(pjnz)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_epp_t0.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read epidemic start year from EPP XML file — read_epp_t0","text":"pjnz file path Spectrum PJNZ file.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_epp_t0.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read epidemic start year from EPP XML file — read_epp_t0","text":"vector epidemic start year EPP subregion region names","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_incid_input.html","id":null,"dir":"Reference","previous_headings":"","what":"Read annual incidence input — read_incid_input","title":"Read annual incidence input — read_incid_input","text":"Read annual incidence input","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_incid_input.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read annual incidence input — read_incid_input","text":"","code":"read_incid_input(pjnz)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_incid_input.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read annual incidence input — read_incid_input","text":"pjnz file path Spectrum PJNZ file.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_pop1.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Spectrum _pop1.xlsx export file — read_pop1","title":"Read Spectrum _pop1.xlsx export file — read_pop1","text":"Spectrum debug mode option output file recording entire state space model simulation computed. function parse *_pop1.xlsx file long-format data.frame.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_pop1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Spectrum _pop1.xlsx export file — read_pop1","text":"","code":"read_pop1(pop1file, country, years = 2000:2021)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_pop1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Spectrum _pop1.xlsx export file — read_pop1","text":"pop1file path *_pop1.xlsx export file country string giving identifying country / region name added column output file years integer vector years extract","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_pop1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Spectrum _pop1.xlsx export file — read_pop1","text":"data.frame consisting pop1 file long format","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_pop1.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read Spectrum _pop1.xlsx export file — read_pop1","text":"TODO: tidy dependencies function: reshape, pryr, readxl. TODO: Insert instructions enter Spectrum debug mode. `years` must file sheets, currently checked. fail hard. Inserting check make fail softer.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_subp_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Read subpopulation size input file — read_subp_file","title":"Read subpopulation size input file — read_subp_file","text":"Read subpopulation size input file","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_subp_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read subpopulation size input file — read_subp_file","text":"","code":"read_subp_file(filepath)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/read_subp_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read subpopulation size input file — read_subp_file","text":"filepath file path .subp file","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/sample_ancsite_pred.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample posterior predictions for site-level ANC observations — sample_ancsite_pred","title":"Sample posterior predictions for site-level ANC observations — sample_ancsite_pred","text":"Sample posterior predictions site-level ANC observations","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/sample_ancsite_pred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample posterior predictions for site-level ANC observations — sample_ancsite_pred","text":"","code":"sample_ancsite_pred(mod, fp, newdata, b_site)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/sample_b_site.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample from posterior ditribution for ANC site level random effects — sample_b_site","title":"Sample from posterior ditribution for ANC site level random effects — sample_b_site","text":"Sample posterior ditribution ANC site level random effects","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/sample_b_site.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample from posterior ditribution for ANC site level random effects — sample_b_site","text":"","code":"sample_b_site(mod, fp, dat, resid = TRUE)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/sample_invgamma_post.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample from conditional posterior distribution for variance parameter — sample_invgamma_post","title":"Sample from conditional posterior distribution for variance parameter — sample_invgamma_post","text":"Sample conditional posterior distribution variance parameter","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/sample_invgamma_post.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample from conditional posterior distribution for variance parameter — sample_invgamma_post","text":"","code":"sample_invgamma_post(x, prior_shape, prior_rate)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/simmod.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate model — simmod","title":"Simulate model — simmod","text":"Simulate model","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/simmod.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate model — simmod","text":"","code":"simmod(fp, ...)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/simmod.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate model — simmod","text":"fp fixed parameter input object ... Arguments passed methods","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/spec_add_dimnames.html","id":null,"dir":"Reference","previous_headings":"","what":"Add dimnames to EPP-ASM model output — spec_add_dimnames","title":"Add dimnames to EPP-ASM model output — spec_add_dimnames","text":"Add dimnames EPP-ASM model output","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/spec_add_dimnames.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add dimnames to EPP-ASM model output — spec_add_dimnames","text":"","code":"spec_add_dimnames(mod, fp)"},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/spec_add_dimnames.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add dimnames to EPP-ASM model output — spec_add_dimnames","text":"mod output `simmod()` fp fixed parameters input `simmod()`","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/reference/spec_add_dimnames.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add dimnames to EPP-ASM model output — spec_add_dimnames","text":"Input `mod` object dimnames applied arrays.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-086","dir":"Changelog","previous_headings":"","what":"eppasm 0.8.6","title":"eppasm 0.8.6","text":"Update internal data country ISO3 list include Tuvalu (TUV).","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-085","dir":"Changelog","previous_headings":"","what":"eppasm 0.8.5","title":"eppasm 0.8.5","text":"Implement ART mortality rate multiplier, added Spectrum 2023 [Advanced options] -> [Adult transition parameters] -> [HIV mortality ART]. Stored .DP file tag <MortalityRatesMultiplier MV>.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-084","dir":"Changelog","previous_headings":"","what":"eppasm 0.8.4","title":"eppasm 0.8.4","text":"Update use full names R internal functions new 0.8 code e.g. Rf_allocVector instead allocVector. Shorthand names longer allowed R v4.5.0. See Nov 10th news https://developer.r-project.org/blosxom.cgi/R-devel","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-083","dir":"Changelog","previous_headings":"","what":"eppasm 0.8.3","title":"eppasm 0.8.3","text":"Implement Spectrum adult ART adjustment absolute count. user input adjust number ART count absolute value. intended used account clients receiving services another region; typically subnational Spectrum files. absolute count ratio adjustments specified year, absolute count applied first ratio applied. ART specified percentage, adjustments influence. Previously entered ART adjustments applied via checkbox Spectrum. checkbox removed Spectrum 6.38 beta 18. backward compatability previously simulated Spectrum outputs, checkbox flag exists .DP file, still used determine application ratios; .DP file contain checkbox flag, ratio applied.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-082","dir":"Changelog","previous_headings":"","what":"eppasm 0.8.2","title":"eppasm 0.8.2","text":"Implement new excess non-AIDS mortality among PLHIV implemented Spectrum 6.38 2025 UNAIDS HIV estimates. Spectrum 6.38 implements rates non-AIDS excess mortality sex, age group, CD4 category ART status. default mortality rates applied concentrated epidemic countries defaulted zero African HIV epidemic settings. Spectrum outputs non-AIDS deaths among PLHIV AIM include non-AIDS excess deaths. EPP-ASM deaths outputs updated accordingly. ensure backward compatibility, excess non-AIDS mortality initialized 0.0 replaced values read Spectrum relevant values exist .DP file. Specific changes: * read_hivproj_param() updated read input values excess non-AIDS mortality Spectrum .DP file, stored tag \"<AdultNonAIDSExcessMort MV>\". Non-AIDS excess deaths among PLHIV tag \"<NonAIDSExcessDeathsSingleAge MV>\", output array specres$nonaids_excess_deaths. AIDS deaths ART status now output single-year age outputs aidsdeaths_art1 aidsdeaths_noart1. (Previously output 5-year age group. BREAKING CHANGE: Previous outputs AIDS deaths ART status 5-year age groups aidsdeaths_art aidsdeaths_noart added suffix 5 avoid ambiguity: aidsdeaths_art5 aidsdeaths_noart5. Previous code used aidsdeaths_art aidsdeaths_noart need updated. EPP-ASM code updated incorporate excess non-AIDS mortality among PLHIV. Internally new model parameters arrays cd4_nonaids_excess_mort art_nonaids_excess_mort follow dimensions stratification cd4_mort art_mort arrays. represent expansions arrays saved Spectrum-AIM, age groups ART duration categories, consistent handling cd4_mort art_mort arrays.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-080","dir":"Changelog","previous_headings":"","what":"eppasm 0.8.0","title":"eppasm 0.8.0","text":"Implement Spectrum ART allocation. longstanding discrepancy betweeen EPP-ASM Spectrum ART allocation. ART allocation ‘expected mortality’, EPP-ASM allocated according mortality CD4 age. Spectrum allocates ART two step process: first, ART allocated CD4 category based ‘expected mortality’ ‘proportional eligibility’ weight. Second, within CD4 categories, ART allocated age solely proportional number age group (propotional eligibility). modest overall difference, source numerical differences Spectrum EPP-ASM. Patch ART dropout implementation. Spectrum converts input ART dropout percent annual rate using [dropout rate] = -log(1.0 - [input percent]).","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-077","dir":"Changelog","previous_headings":"","what":"eppasm 0.7.7","title":"eppasm 0.7.7","text":"Update use full names R internal functions e.g. Rf_allocVector instead allocVector. Shorthand names longer allowed R v4.5.0. See Nov 10th news https://developer.r-project.org/blosxom.cgi/R-devel","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-076","dir":"Changelog","previous_headings":"","what":"eppasm 0.7.6","title":"eppasm 0.7.6","text":"Update internal data country ISO3 list contain St. Kitts & Nevis Dominica","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-075","dir":"Changelog","previous_headings":"","what":"eppasm 0.7.5","title":"eppasm 0.7.5","text":"Qualify package names add required packages Imports section.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-074","dir":"Changelog","previous_headings":"","what":"eppasm 0.7.4","title":"eppasm 0.7.4","text":"Implement recovery next higher CD4 category following ART interruption ART greater one year.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-073","dir":"Changelog","previous_headings":"","what":"eppasm 0.7.3","title":"eppasm 0.7.3","text":"Bug fix: account end-year net migration ART population first year ART start.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-072","dir":"Changelog","previous_headings":"","what":"eppasm 0.7.2","title":"eppasm 0.7.2","text":"Add function read_pop1() parse Spectrum _pop1.xlsx export file.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-071","dir":"Changelog","previous_headings":"","what":"eppasm 0.7.1","title":"eppasm 0.7.1","text":"Use vroom::vroom() read PJNZ files; much faster reading .DP file. Handle Spectrum version numbers saved Francophone locale devices: e.g. 6,13 instead 6.13. read_specdp_demog_param(), ensure zero totals normalising age-specific fertility distribution net-migration age distribution. Fix calculation target number treatment transition number percent input. Package tidying address R CMD CHECK warnings: Add package imports anclik binom. Align function signatures S3 generics. Remove src/Makevars GCC specific -pedantic compiler flag.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-070","dir":"Changelog","previous_headings":"","what":"eppasm 0.7.0","title":"eppasm 0.7.0","text":"read_specdp_demog_param(), normalise age-specific fertility distribution disaggregating TFR ASFR. fixes small discrepancy Spectrum EPP-ASM population projection. read_specdp_demog_param(), disaggregate -5 net migrations single-year ages proportional survival probabilities, match Spectrum. Change model projection calendar year steps instead mid-year steps, consistent Spectrum 6.2 updated WPP 2022 release December 2022. Net-migrations added end projection step, consistent WPP 2022. longer (1) adjust net migration half-period survival, (2) adjust net migration half current age group half next age group. ART interpolation calendar year instead mid-year mid-year. Incidence rate 15-49 calculation uses interpolated mid-year susceptible population denominator. Likelihood calculation use mid-year HIV prevalence ART coverage based simple average end-year values. Code changes backwards compatible code supports simulation either calendar year mid-year projection steps. controlled option fp$projection_period = either \"midyear\" \"calendar\". function create_spectrum_fixpar(..., projection_period = \"calendar\") new argument defaults calendar year input. must re-run recreate fp object change choice calculation paediatric net migration inputs depends choice.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-062","dir":"Changelog","previous_headings":"","what":"eppasm 0.6.2","title":"eppasm 0.6.2","text":"Calculation incidence rate sex uses previous year HIV negative population Thanks Rob Glaubius debugging: https://github.com/mrc-ide/leapfrog/issues/18","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-061","dir":"Changelog","previous_headings":"","what":"eppasm 0.6.1","title":"eppasm 0.6.1","text":"direct incidence input, create new option DIRECTINCID_HTS intercalating direct incidence new HIV infections time step. implemented (1) calculating number new infections per year HIV simulation, (2) adding DT * new infections time step. Pre-calculating number new infections, rather applying HIV incidence rate time step preferred maintain consistency Spectrum calculates number infections based previous year population size.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-060","dir":"Changelog","previous_headings":"","what":"eppasm 0.6.0","title":"eppasm 0.6.0","text":"Add likelihood survey ART coverage.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-0512","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.12","title":"eppasm 0.5.12","text":"Add condition eppasm.cpp avoid dividing 0 zero population eligible initiate ART.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-0511","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.11","title":"eppasm 0.5.11","text":"Patch get_dp_version() search tag instead relying exact location.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-0510","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.10","title":"eppasm 0.5.10","text":"Patch read_epp_t0() parse XML file projection sets using code epp:read_epp_data(). resolves parsing issue Niger, Senegal, Dominican Republic. Unsure XML formed different cases.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-059","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.9","title":"eppasm 0.5.9","text":"Update read_hivproj_param() read incidence sex ratio Spectrum v5.88, v5.89, v5.90.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-058","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.8","title":"eppasm 0.5.8","text":"Update read_incid_input() use tag “” Spectrum DP file. Update read_hivproj_param() parse incidence rate ratio fom new “” tag. Add model output artinit number ART initiations CD4 category. Add model outputs aidsdeaths_noart aidsdeaths_noart number AIDS deaths coarse age groups, stage infection, ART duration. Make ART stage durations (0-5 months, 6-11 months, 1+ years) input parameters fp$ss$h_art_stage_dur instead hard coded values. Add function spec_add_dimnames() add dimnames simmod output arrays.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-056","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.6","title":"eppasm 0.5.6","text":"Re-implement r-hybrid model incorporate smooth transition logistic function random walk. Adjustable knot spacing random walk component r-hybrid model. Implement Spectrum options new ART patient allocation. Implement option scale mortality among untreated population ART coverage (fp$scale_cd4_mort = 1) Separate time time varying ART mortality trends ART duration <12 months > 12 months.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-055","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.5","title":"eppasm 0.5.5","text":"Allow specification equilibrium prior standard deviation fixed prior parameter. Revise logistic RW model use fixed standard deviation. Rename rlogistic_rw -> rhybrid Add ANC site-level random effect estimates tidy_output(). Add get_pointwise_ll() calculate pointwise log-likelihood data new data inputs. Add tidy_aggr() generate summary outputs aggregation subnational fits.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-054","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.4","title":"eppasm 0.5.4","text":"Updates Spectrum v5.72: Update fertility rate ratio input parameters allow ART FRR age. Add time-varying mortality ART","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-053","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.3","title":"eppasm 0.5.3","text":"constrained prior log(iota) ~ Unif(log(1e-13), log(0.0025)), matching EPP software. Add posterior predictive outputs site-level ANC data Incorporate effect percentage circumcised male HIV incidence rate.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-052","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.2","title":"eppasm 0.5.2","text":"Use Beer’s coefficients graduate 5-year age IRRs single year. Add vignette develop EPP-ASM Spectrum workflow.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-051","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.1","title":"eppasm 0.5.1","text":"Add tidy_output() function generate long format key output indicators.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-050","dir":"Changelog","previous_headings":"","what":"eppasm 0.5.0","title":"eppasm 0.5.0","text":"Implement age-specific prevalence among pregnant women. Refactor age-specific prevalence function. Add age-specific ART coverage function.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-040","dir":"Changelog","previous_headings":"","what":"eppasm 0.4.0","title":"eppasm 0.4.0","text":"Add annual direct incidence input option.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-034","dir":"Changelog","previous_headings":"","what":"eppasm 0.3.4","title":"eppasm 0.3.4","text":"Merge updates v0.1.2 v0.3.3","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-033","dir":"Changelog","previous_headings":"","what":"eppasm 0.3.3","title":"eppasm 0.3.3","text":"Modularize code calculating new infections. Implement age 15 entrant prevalence ART coverage inputs. Implement logit transformation sampling uniform logiota prior distribution. Set age IRR penalty variance fixed constant value (9003) Implement piecewise-linear time-varying M:F incidence/transmission ratio 15-24 incidence rate ratio. Knots fixed 2002, 2007, 2012. Modularize code incidence rate ratio parameterization, now infections.R. Updated default IRR priors informative priors based fits countries several surveys. Add function generate summary model outputs","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-032","dir":"Changelog","previous_headings":"","what":"eppasm 0.3.2","title":"eppasm 0.3.2","text":"Integrate random effects variance parameter likelihood. Implement hybrid r-spline RW model r(t). Implement logistic model log r(t) (rlogistic), version random walk (rlogistic_rw). Add optimization option fitmod(). Add option fit without site-level ANC data.","code":""},{"path":"https://mrc-ide.github.io/eppasm-leapfrog/news/index.html","id":"eppasm-030","dir":"Changelog","previous_headings":"","what":"eppasm 0.3.0","title":"eppasm 0.3.0","text":"Rename package eppasm. Add IMIS function eppasm package. version IMIS, iteration new mixture component constructed either centered input greatest weight based optimizer. Allows optimizers run arbitrary iterations, doesn’t implment multiple optimizers might still usful. Covariance optimizer mixture component Hessian degenerate still needs work. Change dependency imports epp package. Add ANC-RT data aggregate national fits (prepare_national_fit() create_aggr_input()). Implement dsamp() calculate density initial IMIS samples. allows different initial sampling density prior distribution. Specify knot locations o-spline model Estimate HIV+:HIV- FRR adjustment. Specify knot locations o-spline model Add functions read country subnational region Spectrum PJN file.","code":""}]
